/*
 * ==========================================================================
 * LAYOUT FINAL - LA ÚNICA FUENTE DE VERDAD (V2 - Header Fijo)
 * ==========================================================================
 */

/* --- 1. VARIABLES DE TAMAÑO --- */
:root {
  --header-height: 65px;
  --sidebar-width: 280px;
  /* Aumentado para evitar cortes */
  --sidebar-collapsed-width: 60px;
  /* Ancho cuando está colapsado */
}

/* --- 2. CONTENIDO PRINCIPAL (TODAS LAS PANTALLAS) --- */
.main-content {
  padding-top: 0;
  /* Espacio para el header fijo */
  transition: margin-left 0.3s ease-in-out;
}

/* --- 3. REGLAS SOLO PARA ESCRITORIO (SIDEBAR) --- */
@media (min-width: 992px) {
  #sidebarDesktop {
    position: fixed;
    top: var(--header-height);
    left: 0;
    height: calc(100vh - var(--header-height));
    width: var(--sidebar-width);
    max-width: var(--sidebar-width);
    /* Evitar que se expanda más */
    min-width: var(--sidebar-width);
    /* Mantener ancho mínimo */
    transform: translateX(0);
    transition: transform 0.3s ease-in-out, width 0.3s ease-in-out;
    overflow-x: hidden;
    /* Evitar scroll horizontal en el sidebar */
    overflow-y: auto;
    /* Permitir scroll vertical si es necesario */
    z-index: 1000;
    /* Asegurar que esté por encima del contenido */
  }

  .main-content {
    margin-left: var(--sidebar-width);
    width: calc(100% - var(--sidebar-width));
    /* Asegurar que no se desborde */
    max-width: calc(100% - var(--sidebar-width));
    overflow-x: hidden;
    /* Evitar scroll horizontal en el contenido */
  }

  /* Estado colapsado */
  body.sidebar-collapsed #sidebarDesktop {
    width: var(--sidebar-collapsed-width);
    min-width: var(--sidebar-collapsed-width);
  }

  body.sidebar-collapsed .main-content {
    margin-left: var(--sidebar-collapsed-width);
    width: calc(100% - var(--sidebar-collapsed-width));
    max-width: calc(100% - var(--sidebar-collapsed-width));
  }

  /* Asegurar que el body no tenga scroll horizontal */
  body {
    overflow-x: hidden;
  }
}

/* --- 4. REGLAS PARA MÓVIL (SIDEBAR) --- */
@media (max-width: 991.98px) {
  .main-content {
    margin-left: 0;
  }
}